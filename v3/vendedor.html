<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vender | RePhone Aracruz</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        .photo-slot { aspect-ratio: 1/1; background: #f8fafc; border: 2px dashed #e2e8f0; border-radius: 20px; cursor: pointer; overflow: hidden; position: relative; }
        .slot-design { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px; color: #94a3b8; }
        .slot-preview-img { width: 100%; height: 100%; object-fit: cover; }
        .filled { border: 2px solid #16a34a; }
        select { width: 100%; padding: 16px; border-radius: 15px; border: 1px solid #e2e8f0; background: #f8fafc; font-size: 16px; margin-bottom: 15px; }
    </style>
</head>
<body style="background: white;">

    <div style="padding: 30px 20px;">
        <header style="margin-bottom: 30px;">
            <button onclick="window.location.href='index.html'" style="background:none; border:none; color:#64748b; font-weight:700; margin-bottom:15px; cursor:pointer;">‚Üê Voltar</button>
            <h1 style="font-weight: 900; font-size: 28px; letter-spacing: -1px;">Submiss√£o de Ativo</h1>
            <p style="color: #64748b; font-size: 14px;">Complete a checklist para an√°lise do RP MATCH.</p>
        </header>

        <form id="vendedorForm">
            <label style="display:block; font-weight:800; margin-bottom:8px;">MODELO E VALOR</label>
            <input type="text" id="vModel" placeholder="Ex: iPhone 13 128GB" required style="margin-bottom:10px;">
            <input type="number" id="vPrice" placeholder="Valor desejado (R$)" required style="margin-bottom:10px;">
            
            <label style="display:block; font-weight:800; margin-bottom:8px;">CONDI√á√ÉO T√âCNICA</label>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom:15px;">
                <input type="text" id="vBattery" placeholder="Sa√∫de Bateria %" required>
                <select id="vCondition">
                    <option value="Impec√°vel">Impec√°vel</option>
                    <option value="Excelente">Excelente</option>
                    <option value="Bom">Bom Estado</option>
                </select>
            </div>

            <button type="button" id="btnLoc" class="btn-secondary" style="width:100%; margin-bottom:25px; padding: 15px; border-radius:15px;">
                üìç VINCULAR MINHA POSI√á√ÉO (ARACRUZ)
            </button>
            <input type="hidden" id="vLat"> <input type="hidden" id="vLng">

            <label style="display:block; font-weight:800; margin-bottom:15px;">CHECKLIST OBRIGAT√ìRIA (4 FOTOS)</label>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom:30px;">
                <div class="photo-slot" onclick="document.getElementById('file1').click()">
                    <input type="file" id="file1" hidden onchange="preview(this, 's1')">
                    <div id="s1" class="slot-design"><span>üì∏</span><small>Frente</small></div>
                </div>
                <div class="photo-slot" onclick="document.getElementById('file2').click()">
                    <input type="file" id="file2" hidden onchange="preview(this, 's2')">
                    <div id="s2" class="slot-design"><span>üì±</span><small>Traseira</small></div>
                </div>
                <div class="photo-slot" onclick="document.getElementById('file3').click()">
                    <input type="file" id="file3" hidden onchange="preview(this, 's3')">
                    <div id="s3" class="slot-design"><span>üîã</span><small>Bateria</small></div>
                </div>
                <div class="photo-slot" onclick="document.getElementById('file4').click()">
                    <input type="file" id="file4" hidden onchange="preview(this, 's4')">
                    <div id="s4" class="slot-design"><span>‚öôÔ∏è</span><small>Sobre</small></div>
                </div>
            </div>

            <button type="submit" class="btn-primary" style="width:100%;">ENVIAR PARA CURADORIA</button>
        </form>
    </div>

    <script>
        function preview(input, id) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const slot = document.getElementById(id);
                    slot.innerHTML = `<img src="${e.target.result}" class="slot-preview-img">`;
                    slot.parentElement.classList.add('filled');
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        document.getElementById('btnLoc').onclick = function() {
            const btn = this;
            navigator.geolocation.getCurrentPosition(pos => {
                document.getElementById('vLat').value = pos.coords.latitude;
                document.getElementById('vLng').value = pos.coords.longitude;
                btn.innerText = "‚úì POSI√á√ÉO VINCULADA";
                btn.style.background = "#dcfce7";
            });
        };

        document.getElementById('vendedorForm').onsubmit = function(e) {
            e.preventDefault();
            const msg = `*NOVO IPHONE PARA CURADORIA*%0A` +
                        `*Modelo:* ${document.getElementById('vModel').value}%0A` +
                        `*Pre√ßo:* R$ ${document.getElementById('vPrice').value}%0A` +
                        `*Bateria:* ${document.getElementById('vBattery').value}%0A` +
                        `*Condi√ß√£o:* ${document.getElementById('vCondition').value}%0A%0A` +
                        `_Estou enviando as 4 fotos da checklist abaixo:_`;
            
            window.open(`https://wa.me/5527999999999?text=${msg}`);
        };
    </script>
</body>
</html>
